# # å·¥ä½œæµåç§°ï¼šå®šä¹‰è¿™ä¸ªGitHub Actionså·¥ä½œæµçš„åç§°
# name: è‡ªåŠ¨æ›´æ–° index.html

# # è§¦å‘æ¡ä»¶ï¼šæŒ‡å®šä»€ä¹ˆæƒ…å†µä¸‹ä¼šè¿è¡Œè¿™ä¸ªå·¥ä½œæµ
# on:
#   push:
#     # ä»…å½“æ¨é€åˆ°mainåˆ†æ”¯æ—¶è§¦å‘
#     branches: [ main ]
#     # ä»…å½“ä»¥ä¸‹è·¯å¾„çš„æ–‡ä»¶å‘ç”Ÿå˜åŒ–æ—¶æ‰è§¦å‘ï¼ˆä¼˜åŒ–æ€§èƒ½ï¼Œé¿å…ä¸å¿…è¦çš„è¿è¡Œï¼‰
#     paths:
#       - 'code-note/**'         # ç›‘æ§code-noteç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶çš„å˜åŒ–
#       - 'generate_index.py'   # ç›‘æ§ç”Ÿæˆè„šæœ¬çš„å˜åŒ–
#       - '.github/workflows/update-index.yml'  # ç›‘æ§å·¥ä½œæµæ–‡ä»¶æœ¬èº«çš„å˜åŒ–

# # å·¥ä½œæµä»»åŠ¡å®šä¹‰ï¼šåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªè¦æ‰§è¡Œçš„ä»»åŠ¡
# jobs:
#   # ä»»åŠ¡åç§°ï¼šupdate-indexï¼ˆæ›´æ–°ç´¢å¼•æ–‡ä»¶ï¼‰
#   update-index:
#     # è¿è¡Œç¯å¢ƒï¼šä½¿ç”¨æœ€æ–°çš„Ubuntuç³»ç»Ÿ
#     runs-on: ubuntu-latest
    
#     # æƒé™é…ç½®ï¼šæˆäºˆå·¥ä½œæµæ“ä½œä»“åº“å†…å®¹çš„æƒé™
#     permissions:
#       contents: write  # å…³é”®è®¾ç½®ï¼šå…è®¸å·¥ä½œæµå†™å…¥/æ¨é€å†…å®¹åˆ°ä»“åº“
    
#     # æ­¥éª¤å®šä¹‰ï¼šä»»åŠ¡çš„å…·ä½“æ‰§è¡Œæ­¥éª¤
#     steps:
#       # æ­¥éª¤1ï¼šæ£€å‡ºä»£ç ä»“åº“
#       - name: æ£€å‡ºä»£ç 
#         uses: actions/checkout@v4  # ä½¿ç”¨å®˜æ–¹çš„checkoutåŠ¨ä½œï¼Œç‰ˆæœ¬v4
#         with:
#           fetch-depth: 0  # è·å–å®Œæ•´çš„ä»£ç å†å²ï¼Œé¿å…æ¨é€æ—¶å‡ºç°å†²çª
#           # ä¸æŒ‡å®štokenï¼Œä½¿ç”¨é»˜è®¤çš„GITHUB_TOKENï¼Œé…åˆä¸Šé¢çš„permissionsé…ç½®è·å–æƒé™
          
#       # æ­¥éª¤2ï¼šè®¾ç½®Pythonè¿è¡Œç¯å¢ƒ
#       - name: è®¾ç½® Python ç¯å¢ƒ
#         uses: actions/setup-python@v5  # ä½¿ç”¨å®˜æ–¹çš„Pythonç¯å¢ƒé…ç½®åŠ¨ä½œï¼Œç‰ˆæœ¬v5
#         with:
#           python-version: '3.10'  # æŒ‡å®šä½¿ç”¨Python 3.10ç‰ˆæœ¬
    
#       # æ­¥éª¤3ï¼šæ‰§è¡ŒPythonè„šæœ¬ç”Ÿæˆindex.html
#       - name: ç”Ÿæˆ index.html
#         run: python generate_index.py  # è¿è¡Œç”Ÿæˆè„šæœ¬ï¼Œç”Ÿæˆæœ€æ–°çš„index.html
    
#       # æ­¥éª¤4ï¼šè‡ªåŠ¨æäº¤å¹¶æ¨é€æ›´æ–°åçš„index.html
#       - name: æäº¤ index.html æ›´æ–°
#         uses: stefanzweifel/git-auto-commit-action@v5  # ä½¿ç”¨è‡ªåŠ¨æäº¤åŠ¨ä½œï¼Œç‰ˆæœ¬v5
#         with:
#           file_pattern: 'index.html'  # ä»…æäº¤index.htmlæ–‡ä»¶çš„å˜æ›´
#           # æäº¤ä¿¡æ¯ï¼šæ¸…æ™°è¯´æ˜è¿™æ˜¯ç”±GitHub Actionsè‡ªåŠ¨ç”Ÿæˆçš„æ›´æ–°
#           commit_message: 'ğŸ”„ è‡ªåŠ¨æ›´æ–° index.htmlï¼ˆç”± GitHub Actions è§¦å‘ï¼‰'
#           # æäº¤è€…ä¿¡æ¯è®¾ç½®
#           commit_user_name: 'GitHub Actions Bot'  # æäº¤è€…ç”¨æˆ·å
#           commit_user_email: 'actions@github.com'  # æäº¤è€…é‚®ç®±
#           # ä¸ä½¿ç”¨tokenå‚æ•°ï¼Œé€šè¿‡jobçº§åˆ«çš„permissionsé…ç½®è·å–æƒé™
    